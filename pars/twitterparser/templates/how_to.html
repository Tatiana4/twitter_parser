{% extends 'main.html' %}
{% block how_to %}
<br>
Сервис для работы использует Twitter API. Для обработки запросов требуется аутентификация пользователя, а также получение ключей и токенов.<br>
<br>
<strong>ВНИМАНИЕ:</strong> Twitter API имеет ограничение на количество запросов во времени! Во избежание блокировки используемого twitter-аккаунта не рекомендуется выполнять более 15 запросов за 15 минут! (подробнее об этом можно почитать в <a href="https://dev.twitter.com/rest/public/rate-limiting" target="_blank">официальной документации</a>).<br>
<br>
Для получения ключей и токенов:
<ol>
<li>заходим на страницу https://apps.twitter.com/ под своим логином и паролем;</li>
<li>нажимаем кнопку «Create new app»;</li>
<li>заполняем все обязательные поля формы Application Details (в поле website можно ввести, к примеру, http://example.com) и соглашаемся с правилами использования сервиса;</li>
<li>нажимаем кнопку «Create your Twitter application»;</li>
<li>после успешного создания приложения в форме Application Details переходим на вкладку «Keys and Access Tokens»;</li>
<li>копируем в буфер обмена и вставляем в соответствующие поля следующие ключи и токены:</li>
<ul>
    <li>Consumer Key (API Key);</li>
    <li>Consumer Secret (API Secret);</li>
    <li>Access Token;</li>
    <li>Access Token Secret.</li>
</ul>
</ol>

<br>
<ins>Выборка твиттов пользователя</ins><br>
<br>
Вводим следующие данные:
<ul>
    <li>псевдоним пользователя в твиттере без знака @ (обязательно). можно ввести список из нескольких, тогда их следует разделить запятыми;</li>
    <li>желаемое количество твиттов (не обязательно).</li>
</ul>
Если желаемое количество твиттов было указано, то в выборку попадет заданное количество твиттов (выборка производится по дате от самых поздних к более ранним).<br>
Если желаемое количество твиттов не было указано, то в выборку попадут все твитты пользователя.<br>
Если желаемое количество твиттов было указано, но оно превышает общее количество твиттов пользователя, то в выборку попадут все твитты пользователя (скрипт отработает без ошибок).<br>
<br><br>
<ins>Выборка твиттов по ключевым словам</ins><br>
<br>
Вводим следующие данные:
<ul>
    <li>текстовый запрос, по которому производится поиск твиттов (обязательно);</li>
    <li>желаемое количество твиттов (обязательно);</li>
    <li>тип результата: последние (recent), популярные (popular) или смешанные (mixed) (обязательно);</li>
    <li>дату, до которой будет производится выборка (не обязательно).</li>
</ul>
<br>
Если дата была указана, то в выборку попадают только те твитты, которые были опубликованы ранее этой даты. ВАЖНО: твиттер не индексирует твитты старше одной недели, поэтому дату следует указывать с вилкой не более 7 дней.<br>
Если тип результата задан как «последние», то в выборку попадают последние опубликованные твитты.<br>
Если тип результата задан как «популярные», то в выборку может попасть произвольное количество твиттов, меньшее либо равное заданному желаемому количеству. Количество выбранных твиттов будет зависеть от запроса.<br>
Если тип результата задан как «смешанные», то в выборку попадают и популярные твитты, и последние опубликованные.<br>
<br><br>
Если при заполнении формы были допущены ошибки, соответствующая информация будет выведена на экран, а форму необходимо заполнить заново.<br>
<br><br>
<ins>Выходные данные</ins><br>
<br>
Выходные данные в обоих случаях представляют собой файл в формате xlsx с двумя листами.
На первом листе представлена выборка твиттов в виде таблицы с графами:
<ul>
    <li>порядковый номер;</li>
    <li>creation_date: дата публикации твитта;</li>
    <li>creation_time: время публикации твитта;</li>
    <li>name: имя пользователя, опубликовавшего твитт;</li>
    <li>text: текст твитта.</li>
</ul><br>
На втором листе представлена информация о пользователях, опубликовавших твитты, в виде таблицы с графами:
<ul>
    <li>порядковый номер;</li>
    <li>creation_date: дата регистрации пользователя;</li>
    <li>description: о пользователе (если указано в профиле);</li>
    <li>followers: количество читателей;</li>
    <li>friends: количество читаемых;</li>
    <li>location: местоположение (если указано в профиле);</li>
    <li>name: имя;</li>
    <li>user: псевдоним пользователя.</li>
</ul><br>
Дублированные твитты (репосты и т. п.) удаляются. Таким образом, в зависимости от запроса в выборке может оказаться меньшее заданному количество твиттов (например, хотим получить 100, но 5 из них одинаковые. Тогда в выборке окажется 96 строк с результатом).<br>
Дублированные пользователи также удаляются (поэтому количество твиттов может быть больше, чем количество пользователей).<br>
<br><br>
{% endblock %}